data <- data(whas500)
data(whas500)
install.packages('smoothHR')
data(whas500)
#install.packages('smoothHR')
library(smoothHR)
data(whas500)
data <- data(whas500)
data(whas500)
force(whas500)
data <- data(whas500)
data(whas500)
library(smoothHR)
data(whas500)
library(tidyverse)
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
View(data)
data_asframe <- as.data.frame(data)
View(data_asframe)
View(data)
View(data_asframe)
##Lectura de datos
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
whas500 <- survival::Surv(time=data$lenfol, event = data$fstat)
#Kaplan-Maier (una variable)
whas500_survfit <- survival::survfit(whas500 ~ 1)
plot(whas500_survfit)
View(whas500_survfit)
#Kaplan-Maier (doble variable)
whas500_survfit_genero <- survival::survfit(whas500 ~ gender)
#Kaplan-Maier (doble variable)
whas500_survfit_genero <- survival::survfit(whas500 ~ gender, data=data)
plot(whas500_survfit_genero)
#Regresión de Cox
whas500_cox <- survival::coxph(whas500 ~ as.factor(gender), data = data)
whas500_cox
whas500_assump
#Test de proporcionalidad
whas500_assump <- survival::cox.zph(whas500_cox)
whas500_assump
whas500_assump
#Media de supervivientes para una variable
whas500_survfit_mean <- survfit(Surv(time, status) ~ 1, data = data)
#Media de supervivientes para una variable
whas500_survfit_mean <- survival::survfit(Surv(time, status) ~ 1, data = data)
#Media de supervivientes para una variable
whas500_survfit_mean <- survival::survfit(survival::Surv(time, status) ~ 1, data = data)
#install.packages('survival')
#install.packages('smoothHR')
library(survival)
library(smoothHR)
library(tidyverse)
##Lectura de datos
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
#Indicamos que los datos son de tipo survival, con un tiempo y con un evento
whas500 <- survival::Surv(time=data$lenfol, status = data$fstat)
#Indicamos que los datos son de tipo survival, con un tiempo y con un evento
whas500 <- survival::Surv(time=data$lenfol, event = data$fstat)
#Kaplan-Maier (una variable)
whas500_survfit <- survival::survfit(whas500 ~ 1)
plot(whas500_survfit)
#Media de supervivientes para una variable
whas500_survfit_mean <- survival::survfit(survival::Surv(time, event) ~ 1, data = data)
#Media de supervivientes para una variable
whas500_survfit_mean <- survival::survfit(survival::Surv(time, event) ~ 1, data = whas500)
#Media de supervivientes para una variable
whas500_survfit_mean <- survival::survfit(survival::Surv(time, event) ~ 1, data = whas500_survfit)
#Indicamos que los datos son de tipo survival, con un tiempo y con un evento
whas500 <- survival::Surv(time=data$lenfol, event = data$fstat)
#Kaplan-Maier (una variable)
whas500_survfit <- survival::survfit(whas500 ~ 1)
plot(whas500_survfit)
View(data)
View(whas500_survfit)
View(data)
summary(survival::survfit(survival::Surv(time, event) ~ 1, data = whas500), times = 365.25)
View(whas500_survfit)
summary(survival::survfit(survival::Surv(time, status) ~ 1, data = whas500), times = 365.25)
summary(survival::survfit(survival::Surv(time, status) ~ 1, data = data), times = 365.25)
summary(survival::survfit(survival::Surv(time, event) ~ 1, data = data), times = 365.25)
summary(survival::survfit(whas500), times = 365.25)
summary(survival::survfit(whas500_survfit), times = 365.25)
##Lectura de datos
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
View(data)
fit <- survfit(Surv(time, status = data$fstat) ~ sex, data = data)
fit <- survfit(Surv(data$lenfol, data$fstat) ~ sex, data = data)
fit <- survfit(Surv(data$lenfol, data$fstat) ~ 1, data = data)
print(fit)
#install.packages('survival')
library(survival)
library(tidyverse)
#### Lectura de datos
data <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv', header = T)
#### Obtenemos los datos de tipo survival
whas500 <- survival::Surv(time=data$lenfol, event = data$fstat)
#### Análisis de Kaplan-Maier
### UNA VARIABLE
## Resumen de datos
sum_one <- survfit(Surv(data$lenfol, data$fstat) ~ 1, data = data)
print(sum_one)
sum_one_1y <- summary(survfit(Surv(time, status) ~ 1, data = data), times = 365.25)
print(sum_one_1y)
sum_one_1y <- summary(survfit(Surv(data$lenfol, data$fstat) ~ 1, data = data), times = 365.25)
print(sum_one_1y)
sum_one_3y <- summary(survfit(Surv(data$lenfol, data$fstat) ~ 1, data = data), times = 365.25*3)
print(sum_one_3y)
survfit_one <- survival::survfit(whas500 ~ 1)
plot(survfit_one)
sum_gender <- survfit(Surv(data$lenfol, data$fstat) ~ gender, data = data)
print(sum_gender)
sum_gender_1y <- summary(survfit(Surv(data$lenfol, data$fstat) ~ gender, data = data), times = 365.25)
print(sum_gender_1y)
sum_gender_3y <- summary(survfit(Surv(data$lenfol, data$fstat) ~ gender, data = data), times = 365.25*3)
print(sum_gender_3y)
View(sum_gender_3y)
survfit_gender <- survival::survfit(whas500 ~ gender)
plot(survfit_gender)
## Visualización (con una variable)
survfit_gender <- survival::survfit(whas500 ~ gender)
View(data)
View(data)
## Visualización (con una variable)
survfit_gender <- survival::survfit(whas500 ~ gender, data = data)
plot(survfit_gender)
## pvalue entre género
sd <- survdiff(Surv(data$lenfol, data$fstat) ~ gender, data = data)
pvalue <- 1 - pchisq(sd$chisq, length(sd$n) - 1)
print(pvalue)
## Regresión de Cox (solo con género)
cox_gender <- coxph(Surv(data$lenfol, data$fstat) ~ gender, data = data)
print(cox_gender)
View(cox_gender)
summary(cox_gender)
## Regresión de Cox (con diferentes variables)
cox_multi <- coxph(Surv(time, status) ~ gender + age + diasbp, data =  data)
## Regresión de Cox (con diferentes variables)
cox_multi <- coxph(Surv(data$lenfol, data$fstat) ~ gender + age + diasbp, data =  data)
print(cox_multi)
summary(cox_multi)
knitr::opts_chunk$set(echo = TRUE)
# Disposición del paquete
install.packages('survival')
library(survival)
# Carga inicial de datos
whas500_aux <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv')
veteran
# Disposición del paquete
install.packages('survival')
library(survival)
# Carga inicial de datos
whas500_aux <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv')
data(veteran)
veteran
veterean_aux <- veteran
View(veterean_aux)
veterean <- Surv(time, status)
veteran <- Surv(time=veteran_aux$time, event = veteran_aux$status)
# Disposición del paquete
install.packages('survival')
library(survival)
# Carga inicial de datos
whas500_aux <- read.csv('https://raw.githubusercontent.com/BUFDataScience/2_tidydata_survival_analysis/master/whas500/whas500.csv')
veteran_aux <- veteran
#Especificamos que los datos sean de tipo survival
whas500 <- Surv(time=whas500_aux$lenfol, event = whas500_aux$fstat)
veteran <- Surv(time=veteran_aux$time, event = veteran_aux$status)
View(veteran_aux)
